(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{33:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(34),c=n.n(a),s=n(6),i=n(23);n(41),n(52),n(53);i.a.initializeApp({apiKey:"AIzaSyDknBZw7CdJH4_1e71hN260LLavkW2alMo",authDomain:"react-twitter-8a3b2.firebaseapp.com",projectId:"react-twitter-8a3b2",storageBucket:"react-twitter-8a3b2.appspot.com",messagingSenderId:"223319554213",appId:"1:223319554213:web:faef2a08fe66765678354c",measurementId:"G-9Z91K6JQ0S"});var o=i.a,l=i.a.auth(),u=i.a.firestore(),j=i.a.storage(),d=n(20),b=n(8),p=n(7),h=n.n(p),O=n(12),x=n(13),f=n(28),m=n(14),g=n(1),v=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(s.a)(c,2),u=i[0],j=i[1],b=Object(r.useState)(""),p=Object(s.a)(b,2),v=p[0],w=p[1],y=function(e){e.preventDefault();var t=e.target.name;"email"===t?a(e.target.value):"passowrd"===t&&j(e.target.value)},N=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l.signInWithEmailAndPassword(n,u);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),w(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(O.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target),"google"===(n=t.target.name)?(console.log("google \ub85c\uadf8\uc778"),r=new o.auth.GoogleAuthProvider):"git"===n&&(console.log("git \ub85c\uadf8\uc778"),r=new o.auth.GithubAuthProvider),e.next=6,l.signInWithPopup(r).then((function(e){alert("\ub85c\uadf8\uc778 \uc131\uacf5!")}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"authContainer",children:[Object(g.jsx)(x.a,{icon:m.b,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(g.jsx)("h2",{style:{fontSize:"25px",fontWeight:600},children:"\ub193\uace0(Go)"}),Object(g.jsx)("p",{style:{marginTop:"14px",fontSize:"15px"},children:" \uac00\uc838\uac08\uac8c\uc694. \ub450\uace0 \uac00\uc138\uc694."}),Object(g.jsxs)("form",{onSubmit:N,className:"container",children:[Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"text",placeholder:"Email",required:!0,onChange:y,name:"email",value:n,className:"authInput",autoFocus:!0})}),Object(g.jsx)("div",{children:Object(g.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:y,name:"passowrd",password:u,className:"authInput"})}),Object(g.jsx)("button",{type:"submit",value:"LogIn",name:"login",className:"authInput authSubmit",children:"Login"}),v&&Object(g.jsx)("p",{className:"authError",children:v})]}),Object(g.jsxs)("div",{className:"authBtns",children:[Object(g.jsxs)("button",{type:"button",name:"google",onClick:k,className:"authBtn",children:[Object(g.jsx)(x.a,{icon:f.b,color:"#04AAFF"}),Object(g.jsx)("p",{children:"Google \ub85c\uadf8\uc778"})]}),Object(g.jsxs)("button",{type:"button",name:"git",onClick:k,className:"authBtn",children:[Object(g.jsx)(x.a,{icon:f.a,color:"#04aaff"}),Object(g.jsx)("p",{children:"Github \ub85c\uadf8\uc778"})]}),Object(g.jsx)("button",{className:"authBtn",children:Object(g.jsxs)(d.b,{to:"/joinForm",style:{textDecoration:"none",color:"black"},children:[Object(g.jsx)(x.a,{icon:m.g,color:"#04aaff"}),Object(g.jsx)("p",{children:"\ud68c\uc6d0\uac00\uc785"})]})})]})]})},w=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(""),d=Object(s.a)(j,2),p=d[0],x=d[1],f=Object(b.f)(),m=function(e){var t=e.target.name;"joinEmail"===t?a(e.target.value):"joinPassword"===t&&u(e.target.value)},v=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l.createUserWithEmailAndPassword(n,o);case 4:alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5!"),f.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),x(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{onSubmit:v,children:[Object(g.jsx)("input",{type:"text",placeholder:"Email",required:!0,onChange:m,name:"joinEmail",value:n}),Object(g.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:m,name:"joinPassword",password:o}),p&&Object(g.jsx)("p",{children:p}),Object(g.jsx)("input",{type:"submit"})]})})};var y=function(e){var t=e.userObj,n=Object(b.f)(),r=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l.signOut();case 4:alert("\ub85c\uadf8\uc544\uc6c3 \uc131\uacf5!"),n.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),alert("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("nav",{children:[Object(g.jsxs)("div",{className:"home_logo",children:[Object(g.jsx)("span",{style:{display:"block"},children:Object(g.jsx)(d.b,{to:"/",children:Object(g.jsx)(x.a,{icon:m.b,color:"#04AAFF",size:"5x"})})}),Object(g.jsx)("h2",{style:{display:"block",marginTop:35},children:"just left behind"})]}),t&&Object(g.jsx)("div",{className:"home_info",children:Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)("span",{children:!0===t.displayName?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("em",{children:[t.displayName,"\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4."]})}):Object(g.jsx)("em",{children:"\ub2c9\ub124\uc784\uc744 \uc124\uc815\ud574\uc8fc\uc138\uc694."})})}),Object(g.jsx)("li",{children:Object(g.jsx)("span",{children:Object(g.jsx)(d.b,{to:"/profile",className:"header_profile",children:Object(g.jsx)(x.a,{icon:m.f,color:"#04AAFF",size:"1x"})})})}),Object(g.jsx)("li",{children:Object(g.jsx)("span",{onClick:r,className:"header_logout",children:Object(g.jsx)(x.a,{icon:m.d,size:"1x",color:"#04AAFF"})})})]})})]})},N=n(25);var k=function(e){var t=e.userObj,n=e.refreshUser,a=Object(r.useState)(""),c=Object(s.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(!1),j=Object(s.a)(l,2),d=j[0],b=j[1],p=Object(r.useState)({displayName:""}),x=Object(s.a)(p,2),f=x[0],m=x[1],v=function(){var e=Object(O.a)(h.a.mark((function e(){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.collection("newSend").where("writerId","==",t.uid).orderBy("date","desc").get();case 2:n=e.sent,console.log(n),r=n.docs.map((function(e){return Object(N.a)({postId:e.id},e.data())})),o(r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){v()}),[]);var w=function(){var e=Object(O.a)(h.a.mark((function e(r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t.updateProfile(f).then((function(){alert("\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),n()})).catch((function(e){alert(e.message)}));case 3:m({}),b(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"profile_change_form",children:[Object(g.jsx)("span",{onClick:function(e){b(!0)},children:"\ub2c9\ub124\uc784 \ubcc0\uacbd"}),d&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("form",{className:"profile_change",children:[Object(g.jsx)("input",{type:"text",placeholder:"\ubcc0\uacbd\ud558\uc2e4 \ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",name:"displayName",value:f.writerId,onChange:function(e){var t=e.target,n=t.name,r=t.value;"displayName"===n&&m({displayName:r})}}),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{type:"submit",onClick:w,children:"\ubcc0\uacbd"}),Object(g.jsx)("button",{type:"cancel",onClick:function(){return b((function(e){return!e}))},children:"\ucde8\uc18c"})]})]})}),Object(g.jsx)("hr",{}),t&&Object(g.jsx)("h2",{children:t.displayName?Object(g.jsx)(g.Fragment,{children:"".concat(t.displayName,"\ub2d8\uc774 \ub450\uace0 \uac04 \ubaa9\ub85d")}):Object(g.jsx)("p",{children:"\ub2c9\ub124\uc784\uc744 \uc124\uc815\ud574\uc8fc\uc138\uc694"})}),Object(g.jsx)("div",{className:"profile_write",children:i&&i.map((function(e){return Object(g.jsx)("div",{className:"profile_write_form",children:Object(g.jsxs)("p",{children:["\ub0b4\uc6a9 : ".concat(e.text," \uc791\uc131\uc77c : ").concat(e.date)," "]})})}))})]})},S=n(55);var I=function(e){var t=e.userObj,n=Object(r.useState)(""),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)(""),l=Object(s.a)(o,2),d=l[0],b=l[1],p=function(){var e=Object(O.a)(h.a.mark((function e(n){var r,a,s,o,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r="",a=new Date,null===d||void 0===d||""===d){e.next=16;break}return s=j.ref().child("".concat(t.uid,"/").concat(Object(S.a)())),e.next=7,s.putString(d,"data_url");case 7:return o=e.sent,e.next=10,o.ref.getDownloadURL();case 10:return r=e.sent,l={text:c,date:a.getDate(),writerId:t.uid,resultUrl:r},e.next=14,u.collection("newSend").add(l).then((function(e){alert("\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),console.log(e)}));case 14:e.next=20;break;case 16:return console.log(r),p={text:c,date:a.getDate(),writerId:t.uid,resultUrl:r},e.next=20,u.collection("newSend").add(p).then((function(e){alert("\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),console.log(e)}));case 20:i(""),b("");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("form",{onSubmit:p,className:"addedProfileForm",children:[Object(g.jsxs)("div",{className:"addedProfileForm_input_container",children:[Object(g.jsx)("input",{type:"text",value:c,onChange:function(e){e.preventDefault(),i(e.target.value)},placeholder:"\uc624\ub298 \ud558\ub8e8\ub294 \uc5b4\ub560\ub098\uc694?",maxLength:200,className:"addProfileInput"}),Object(g.jsx)("button",{type:"submit",className:"addProfileSubmit",children:"\ub193\uace0\uac00\uae30"})]}),Object(g.jsxs)("label",{for:"file-upload",className:"file-upload-label",children:[Object(g.jsx)("span",{children:"\ud568\uaed8 \uc62c\ub9ac\uae30"}),Object(g.jsx)(x.a,{icon:m.a})]}),Object(g.jsx)("input",{type:"file",accept:"image/*",id:"file-upload",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){b(e.currentTarget.result)},n.readAsDataURL(t)},style:{opacity:0}}),d&&Object(g.jsxs)("div",{className:"profile_image_uploaded",children:[Object(g.jsx)("img",{src:d,style:{backgroundImage:d}}),Object(g.jsx)("div",{className:"image_cancel_btn",children:Object(g.jsx)("span",{onClick:function(){b("")},children:Object(g.jsx)(x.a,{icon:m.h,size:"1.5x",color:"red"})})})]})]})};var C=function(e){var t=e.post,n=e.userPostCheck,a=Object(r.useState)(!1),c=Object(s.a)(a,2),i=c[0],o=c[1],l=Object(r.useState)(t.text),d=Object(s.a)(l,2),b=d[0],p=d[1],f=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onRemove"),!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=11;break}return e.next=5,u.doc("newSend/".concat(t.postId)).delete();case 5:if(!t.resultUrl){e.next=8;break}return e.next=8,j.refFromURL(t.resultUrl).delete();case 8:alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){o((function(e){return!e}))},w=function(){var e=Object(O.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,u.doc("newSend/".concat(t.postId)).update({text:b});case 3:o(!1),alert("\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"newPost",children:i?Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("form",{onSubmit:w,className:"container newPostEdit",children:[Object(g.jsx)("input",{type:"text",value:b,onChange:function(e){e.preventDefault(),p(e.target.value)},className:"formInput"}),Object(g.jsxs)("div",{style:{textAlign:"center"},children:[Object(g.jsx)("button",{type:"submit",className:"formBtn",children:"\uc218\uc815"}),Object(g.jsx)("input",{type:"button",value:"\ucde8\uc18c",onClick:v,className:"formCancelBtn"})]})]})}):Object(g.jsxs)(g.Fragment,{children:[t.writerId&&Object(g.jsxs)("div",{className:"wirte_Info",children:[Object(g.jsx)("p",{children:"\ub0b4\uc6a9 : ".concat(t.text)}),Object(g.jsxs)("p",{children:["\ub0a0\uc9dc : ",t.date]}),Object(g.jsxs)("p",{children:["\uc791\uc131\uc790 :",t.writerId]})]}),t.resultUrl&&Object(g.jsx)("img",{src:t.resultUrl,width:"50px",height:"50px"}),n&&Object(g.jsxs)("div",{class:"post_actions",children:[Object(g.jsx)("span",{onClick:f,name:"delete",style:{cursor:"pointer"},children:Object(g.jsx)(x.a,{icon:m.e,color:"rgba(255,89,0)"})}),Object(g.jsx)("span",{onClick:v,name:"onEdit",style:{cursor:"pointer"},children:Object(g.jsx)(x.a,{icon:m.c,color:" rgb(95, 154, 242)"})})]})]})})},F=function(e){var t=e.userObj,n=Object(r.useState)([]),a=Object(s.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){u.collection("newSend").orderBy("date","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(N.a)({postId:e.id},e.data())}));i(t)}))}),[]),Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(I,{userObj:t}),Object(g.jsx)("h2",{style:{fontSize:25,fontWeight:600,textAlign:"center",marginBottom:35,marginTop:20},children:"Our Memory"}),c&&c.map((function(e){return Object(g.jsx)(g.Fragment,{children:e&&t&&Object(g.jsx)(C,{post:e,userPostCheck:e.writerId===t.uid},e.id)})}))]})},P=function(e){var t=e.isLoggedIn,n=e.userObj,r=e.refreshUser;return Object(g.jsxs)(d.a,{children:[t&&Object(g.jsx)(y,{userObj:n}),Object(g.jsx)(b.c,{children:t?Object(g.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[Object(g.jsx)(b.a,{exact:!0,path:"/",render:function(){return Object(g.jsx)(F,{userObj:n})}}),Object(g.jsx)(b.a,{exact:!0,path:"/profile",render:function(){return Object(g.jsx)(k,{userObj:n,refreshUser:r})}})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.a,{exact:!0,path:"/",component:v}),Object(g.jsx)(b.a,{exact:!0,path:"/joinForm",component:w})]})})]})};n(33);var A=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(s.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(null),d=Object(s.a)(j,2),b=d[0],p=d[1];return Object(r.useEffect)((function(){l.onAuthStateChanged((function(e){e?(console.log("\ub85c\uadf8\uc778\ud55c \uc720\uc800 :",e),u(!0),p({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})):(p(null),u(!1)),a(!0)}))}),[]),Object(g.jsx)(g.Fragment,{children:n?Object(g.jsx)(P,{isLoggedIn:o,userObj:b,refreshUser:function(){var e=l.currentUser;p({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})}}):"Initializing..."})};c.a.render(Object(g.jsx)(A,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ed52c346.chunk.js.map