(this.webpackJsonptwitter=this.webpackJsonptwitter||[]).push([[0],{35:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(36),a=n.n(r),s=n(6),i=n(23),o=(n(44),n(57),n(58),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APP_ID,measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"/react-LetGo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_MEASUREMENT_ID});i.a.initializeApp(o);var l=i.a,u=i.a.auth(),j=i.a.firestore(),d=i.a.storage(),b=n(21),O=n(8),p=n(7),h=n.n(p),x=n(12),f=n(13),m=n(28),v=n(14),_=n(1),S=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],j=i[1],d=Object(c.useState)(""),O=Object(s.a)(d,2),p=O[0],S=O[1],g=function(e){e.preventDefault();var t=e.target.name;"email"===t?r(e.target.value):"passowrd"===t&&j(e.target.value)},E=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.signInWithEmailAndPassword(n,o);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0),S(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.name,console.log("\uc774\ub984\uc740:"),console.log(n),"google"===n?(console.log("google \ub85c\uadf8\uc778"),c=new l.auth.GoogleAuthProvider):"git"===n&&(console.log("git \ub85c\uadf8\uc778"),c=new l.auth.GithubAuthProvider),e.next=7,u.signInWithPopup(c).then((function(e){alert("\ub85c\uadf8\uc778 \uc131\uacf5!")}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"authContainer",children:[Object(_.jsx)(f.a,{icon:v.b,color:"#04AAFF",size:"3x",style:{marginBottom:30}}),Object(_.jsx)("h2",{style:{fontSize:"25px",fontWeight:600},children:"\ub193\uace0(Go)"}),Object(_.jsx)("p",{style:{marginTop:"14px",fontSize:"15px"},children:" \uac00\uc838\uac08\uac8c\uc694. \ub450\uace0 \uac00\uc138\uc694."}),Object(_.jsxs)("form",{onSubmit:E,className:"container",children:[Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"text",placeholder:"Email",required:!0,onChange:g,name:"email",value:n,className:"authInput",autoFocus:!0})}),Object(_.jsx)("div",{children:Object(_.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:g,name:"passowrd",password:o,className:"authInput"})}),Object(_.jsx)("button",{type:"submit",value:"LogIn",name:"login",className:"authInput authSubmit",children:"Login"}),p&&Object(_.jsx)("p",{className:"authError",children:p})]}),Object(_.jsxs)("div",{className:"authBtns",children:[Object(_.jsxs)("button",{type:"button",name:"google",onClick:T,className:"authBtn",children:[Object(_.jsx)(f.a,{icon:m.b,color:"#04AAFF"}),"Google Login"]}),Object(_.jsxs)("button",{type:"button",name:"git",onClick:T,className:"authBtn",children:[Object(_.jsx)(f.a,{icon:m.a,color:"#04aaff"}),"Git Login"]}),Object(_.jsx)("button",{className:"authBtn",children:Object(_.jsxs)(b.b,{to:"/joinForm",style:{textDecoration:"none",color:"black"},children:[Object(_.jsx)("p",{children:Object(_.jsx)(f.a,{icon:v.g,color:"#04aaff"})}),"\ud68c\uc6d0\uac00\uc785"]})})]})]})},g=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(c.useState)(""),d=Object(s.a)(j,2),b=d[0],O=d[1],p=function(e){var t=e.target.name;"joinEmail"===t?r(e.target.value):"joinPassword"===t&&l(e.target.value)},f=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.createUserWithEmailAndPassword(n,o);case 4:alert("\ud68c\uc6d0\uac00\uc785 \ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),O(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{children:Object(_.jsxs)("form",{onSubmit:f,children:[Object(_.jsx)("input",{type:"text",placeholder:"Email",required:!0,onChange:p,name:"joinEmail",value:n}),Object(_.jsx)("input",{type:"password",placeholder:"Password",required:!0,onChange:p,name:"joinPassword",password:o}),b&&Object(_.jsx)("p",{children:b}),Object(_.jsx)("input",{type:"submit"})]})})};var E=function(e){var t=e.userObj,n=Object(O.f)(),c=function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u.signOut();case 4:alert("\ub85c\uadf8\uc544\uc6c3 \uc131\uacf5!"),n.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),alert("\ub85c\uadf8\uc544\uc6c3 \uc2e4\ud328");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("nav",{children:[Object(_.jsxs)("div",{className:"home_logo",children:[Object(_.jsx)("span",{style:{display:"block"},children:Object(_.jsx)(b.b,{to:"/",children:Object(_.jsx)(f.a,{icon:v.b,color:"#04AAFF",size:"5x"})})}),Object(_.jsx)("h2",{style:{display:"block",marginTop:35},children:"just left behind"})]}),t&&Object(_.jsx)("div",{className:"home_info",children:Object(_.jsxs)("ul",{children:[Object(_.jsx)("li",{children:Object(_.jsxs)("span",{children:[Object(_.jsx)("em",{children:t.displayName}),"\ub2d8 \ud658\uc601\ud569\ub2c8\ub2e4."]})}),Object(_.jsx)("li",{children:Object(_.jsx)("span",{children:Object(_.jsx)(b.b,{to:"/profile",className:"header_profile",children:Object(_.jsx)(f.a,{icon:v.f,color:"#04AAFF",size:"1x"})})})}),Object(_.jsx)("li",{children:Object(_.jsx)("span",{onClick:c,className:"header_logout",children:Object(_.jsx)(f.a,{icon:v.d,size:"1x",color:"#04AAFF"})})})]})})]})},T=n(25);var C=function(e){var t=e.userObj,n=e.refreshUser,r=Object(c.useState)(""),a=Object(s.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1],O=Object(c.useState)({displayName:""}),p=Object(s.a)(O,2),f=p[0],m=p[1],v=function(){var e=Object(x.a)(h.a.mark((function e(){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.collection("newSend").where("writerId","==",t.uid).orderBy("date","desc").get();case 2:n=e.sent,console.log(n),c=n.docs.map((function(e){return Object(T.a)({postId:e.id},e.data())})),o(c);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){v()}),[]);var S=function(){var e=Object(x.a)(h.a.mark((function e(c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.next=3,t.updateProfile(f).then((function(){alert("\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),n()})).catch((function(e){alert(e.message)}));case 3:m({}),b(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"profile_change_form",children:[Object(_.jsx)("span",{onClick:function(e){b(!0)},children:"\ub2c9\ub124\uc784 \ubcc0\uacbd"}),d&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("form",{className:"profile_change",children:[Object(_.jsx)("input",{type:"text",placeholder:"\ubcc0\uacbd\ud558\uc2e4 \ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",name:"displayName",value:f.writerId,onChange:function(e){var t=e.target,n=t.name,c=t.value;"displayName"===n&&m({displayName:c})}}),Object(_.jsxs)("div",{children:[Object(_.jsx)("button",{type:"submit",onClick:S,children:"\ubcc0\uacbd"}),Object(_.jsx)("button",{type:"cancel",onClick:function(){return b((function(e){return!e}))},children:"\ucde8\uc18c"})]})]})}),Object(_.jsx)("hr",{}),t&&Object(_.jsx)("h2",{children:"".concat(t.displayName,"\ub2d8\uc774 \ub450\uace0 \uac04 \ubaa9\ub85d")}),Object(_.jsx)("div",{className:"profile_write",children:i&&i.map((function(e){return Object(_.jsx)("div",{className:"profile_write_form",children:Object(_.jsxs)("p",{children:["\ub0b4\uc6a9 : ".concat(e.text," \uc791\uc131\uc77c : ").concat(e.date)," "]})})}))})]})},P=n(38);var w=function(e){var t=e.userObj,n=Object(c.useState)(""),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(""),l=Object(s.a)(o,2),u=l[0],b=l[1],O=function(){var e=Object(x.a)(h.a.mark((function e(n){var c,r,s,o,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),c="",null===u||void 0===u||""===u){e.next=10;break}return r=d.ref().child("".concat(t.uid,"/").concat(Object(P.v4)())),e.next=6,r.putString(u,"data_url");case 6:return s=e.sent,e.next=9,s.ref.getDownloadURL();case 9:c=e.sent;case 10:return o=new Date,l={text:a,date:o.getDate(),writerId:t.uid,resultUrl:c},e.next=14,j.collection("newSend").add(l).then((function(e){alert("\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),console.log(e)}));case 14:i(""),b("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("form",{onSubmit:O,className:"addedProfileForm",children:[Object(_.jsxs)("div",{className:"addedProfileForm_input_container",children:[Object(_.jsx)("input",{type:"text",value:a,onChange:function(e){e.preventDefault(),i(e.target.value)},placeholder:"\uc624\ub298 \ud558\ub8e8\ub294 \uc5b4\ub560\ub098\uc694?",maxLength:200,className:"addProfileInput"}),Object(_.jsx)("button",{type:"submit",className:"addProfileSubmit",children:"\ub193\uace0\uac00\uae30"})]}),Object(_.jsxs)("label",{for:"file-upload",className:"file-upload-label",children:[Object(_.jsx)("span",{children:"\ud568\uaed8 \uc62c\ub9ac\uae30"}),Object(_.jsx)(f.a,{icon:v.a})]}),Object(_.jsx)("input",{type:"file",accept:"image/*",id:"file-upload",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){b(e.currentTarget.result)},n.readAsDataURL(t)},style:{opacity:0}}),u&&Object(_.jsxs)("div",{className:"profile_image_uploaded",children:[Object(_.jsx)("img",{src:u,style:{backgroundImage:u}}),Object(_.jsx)("div",{className:"image_cancel_btn",children:Object(_.jsx)("span",{onClick:function(){b("")},children:Object(_.jsx)(f.a,{icon:v.h,size:"1.5x",color:"red"})})})]})]})};var N=function(e){var t=e.post,n=e.userPostCheck,r=Object(c.useState)(!1),a=Object(s.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(t.text),u=Object(s.a)(l,2),b=u[0],O=u[1],p=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onRemove"),!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=11;break}return e.next=5,j.doc("newSend/".concat(t.postId)).delete();case 5:if(!t.resultUrl){e.next=8;break}return e.next=8,d.refFromURL(t.resultUrl).delete();case 8:alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),e.next=12;break;case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){o((function(e){return!e}))},S=function(){var e=Object(x.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,j.doc("newSend/".concat(t.postId)).update({text:b});case 3:o(!1),alert("\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"newPost",children:i?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("form",{onSubmit:S,className:"container newPostEdit",children:[Object(_.jsx)("input",{type:"text",value:b,onChange:function(e){e.preventDefault(),O(e.target.value)},className:"formInput"}),Object(_.jsxs)("div",{style:{textAlign:"center"},children:[Object(_.jsx)("button",{type:"submit",className:"formBtn",children:"\uc218\uc815"}),Object(_.jsx)("input",{type:"button",value:"\ucde8\uc18c",onClick:m,className:"formCancelBtn"})]})]})}):Object(_.jsxs)(_.Fragment,{children:[t.writerId&&Object(_.jsxs)("div",{className:"wirte_Info",children:[Object(_.jsx)("p",{children:"\ub0b4\uc6a9 : ".concat(t.text)}),Object(_.jsxs)("p",{children:["\ub0a0\uc9dc : ",t.date]}),Object(_.jsxs)("p",{children:["\uc791\uc131\uc790 :",t.writerId]})]}),t.resultUrl&&Object(_.jsx)("img",{src:t.resultUrl,width:"50px",height:"50px"}),n&&Object(_.jsxs)("div",{class:"post_actions",children:[Object(_.jsx)("span",{onClick:p,name:"delete",style:{cursor:"pointer"},children:Object(_.jsx)(f.a,{icon:v.e,color:"rgba(255,89,0)"})}),Object(_.jsx)("span",{onClick:m,name:"onEdit",style:{cursor:"pointer"},children:Object(_.jsx)(f.a,{icon:v.c,color:" rgb(95, 154, 242)"})})]})]})})},y=function(e){var t=e.userObj,n=Object(c.useState)([]),r=Object(s.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){j.collection("newSend").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(T.a)({postId:e.id},e.data())}));i(t)}))}),[]),Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)(w,{userObj:t}),Object(_.jsx)("h2",{style:{fontSize:25,fontWeight:600,textAlign:"center",marginBottom:35,marginTop:20},children:"Our Memory"}),a&&a.map((function(e){return Object(_.jsx)(_.Fragment,{children:e&&t&&Object(_.jsx)(N,{post:e,userPostCheck:e.writerId===t.uid},e.id)})}))]})},A=function(e){var t=e.isLoggedIn,n=e.userObj,c=e.refreshUser;return Object(_.jsxs)(b.a,{children:[t&&Object(_.jsx)(E,{userObj:n}),Object(_.jsx)(O.c,{children:t?Object(_.jsxs)("div",{style:{maxWidth:890,width:"100%",margin:"0 auto",marginTop:80,display:"flex",justifyContent:"center"},children:[Object(_.jsx)(O.a,{exact:!0,path:"/",render:function(){return Object(_.jsx)(y,{userObj:n})}}),Object(_.jsx)(O.a,{exact:!0,path:"/profile",render:function(){return Object(_.jsx)(C,{userObj:n,refreshUser:c})}})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(O.a,{exact:!0,path:"/",component:S}),Object(_.jsx)(O.a,{exact:!0,path:"/joinForm",component:g})]})})]})};n(35);var D=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(s.a)(a,2),o=i[0],l=i[1],j=Object(c.useState)(null),d=Object(s.a)(j,2),b=d[0],O=d[1];return Object(c.useEffect)((function(){u.onAuthStateChanged((function(e){e?(console.log("\ub85c\uadf8\uc778\ud55c \uc720\uc800 :",e),l(!0),O({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})):(O(null),l(!1)),r(!0)}))}),[]),Object(_.jsx)(_.Fragment,{children:n?Object(_.jsx)(A,{isLoggedIn:o,userObj:b,refreshUser:function(){var e=u.currentUser;O({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return e.updateProfile(t)}})}}):"Initializing..."})};a.a.render(Object(_.jsx)(D,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.db6ab9f5.chunk.js.map